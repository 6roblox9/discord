(()=>{
"use strict";var $=(()=>{var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty;var __esm=(fn,res)=>function(){return fn&&(res=(0,fn[__getOwnPropNames(fn)[0]])(fn=0)),res};var __commonJS=(cb,mod)=>function(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&typeof from=="object"||typeof from=="function")for(var keys=__getOwnPropNames(from),i=0,n=keys.length,key;i<n;i++)key=keys[i],!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:(k=>from[k]).bind(null,key),enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to},__toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:!0}):target,mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod);var define_PLUGINS_LIST_default,init_define_PLUGINS_LIST=__esm({"<define:PLUGINS_LIST>"(){define_PLUGINS_LIST_default=["app-directory","char-counter","clean-urls","cloud-sync","customrpc","doom","kiryu-facecam","local-pins","message-preview","monet-theme","nexxutils","plugin-browser","plugin-embeds","song-spotlight","tenor-gif-fix","themes-plus","twemoji-everywhere","use-system-emoji","userpfp"]}});var require_common=__commonJS({"vendetta:@vendetta/metro/common"(exports,module){init_define_PLUGINS_LIST();init_migration_shim();module.exports=vendetta.metro.common}});var require_plugins=__commonJS({"vendetta:@vendetta/plugins"(exports,module){init_define_PLUGINS_LIST();init_migration_shim();module.exports=vendetta.plugins}});var require_storage=__commonJS({"vendetta:@vendetta/storage"(exports,module){init_define_PLUGINS_LIST();init_migration_shim();module.exports=vendetta.storage}});var require_toasts=__commonJS({"vendetta:@vendetta/ui/toasts"(exports,module){init_define_PLUGINS_LIST();init_migration_shim();module.exports=vendetta.ui.toasts}});var require_patcher=__commonJS({"vendetta:@vendetta/patcher"(exports,module){init_define_PLUGINS_LIST();init_migration_shim();module.exports=vendetta.patcher}});var import_common,import_plugins,import_storage,import_toasts,import_patcher,patchRows;init_define_PLUGINS_LIST();import_common=__toESM(require_common(),1),import_plugins=__toESM(require_plugins(),1),import_storage=__toESM(require_storage(),1),import_toasts=__toESM(require_toasts(),1),import_patcher=__toESM(require_patcher(),1);patchRows=args=>(0,import_patcher.before)("updateRows",window.RNChatModule,args=>{let rows=JSON.parse(args[1]);for(let row of rows){if(row.type===1&&row.message.content){row.message.content=processContent(row.message.content);if(row.message.referenced_message)row.message.referenced_message.content=processContent(row.message.referenced_message.content)}}args[1]=JSON.stringify(rows)});function processContent(content){if(Array.isArray(content))return content.map(processContent);return content}var onUnload=patchRows();var src_exports={};__export(src_exports,{onUnload:()=>onUnload});return __toCommonJS(src_exports);})();
return $;})();
