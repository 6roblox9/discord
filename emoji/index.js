(function(r,a){"use strict";function o(c){const e=[];let n;for(const s of c){let t=s;t.type==="emoji"&&(t={type:"text",content:t.surrogate}),"content"in t&&Array.isArray(t.content)&&(t.content=o(t.content)),"items"in t&&Array.isArray(t.items)&&(t.items=o(t.items)),"jumboable"in s&&s.jumboable&&!n&&(n={type:"heading",level:1,content:[]}),(s.type==="emoji"||s.type==="customEmoji")&&!s.jumboable&&n&&(e.push(n),n=void 0),n?n.content.push(t):e.push(t)}return n&&e.push(n),e}const i=a.patchRows(function(c){for(const e of c)e.type===1&&e.message.content&&(e.message.content=o(e.message.content)),e.type===1&&e.message.referencedMessage&&e.message.referencedMessage.content&&(e.message.referencedMessage.content=o(e.message.referencedMessage.content))});return r.onUnload=i,r})({},types);
