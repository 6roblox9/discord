(function(c,i){"use strict";function s(a){const e=[];let n;for(const o of a){let t=o;t.type==="emoji"&&(t={type:"text",content:t.surrogate}),"content"in t&&Array.isArray(t.content)&&(t.content=s(t.content)),"items"in t&&Array.isArray(t.items)&&(t.items=s(t.items)),"jumboable"in o&&o.jumboable&&!n&&(n={type:"heading",level:1,content:[]}),(o.type==="emoji"||o.type==="customEmoji")&&!o.jumboable&&n&&(e.push(n),n=void 0),n?n.content.push(t):e.push(t)}return n&&e.push(n),e}let r=null;var u={onLoad(){r=i.patchRows(function(a){for(const e of a)e.type===1&&e.message?.content&&(e.message.content=s(e.message.content)),e.type===1&&e.message?.referencedMessage?.content&&(e.message.referencedMessage.content=s(e.message.referencedMessage.content))})},onUnload(){r?.()}};return c.default=u,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.ui.components.MessageContent);
