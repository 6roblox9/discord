(function(i,r){"use strict";function s(c){const e=[];let n;for(const o of c){let t=o;t.type==="emoji"&&(t={type:"text",content:t.surrogate}),"content"in t&&Array.isArray(t.content)&&(t.content=s(t.content)),"items"in t&&Array.isArray(t.items)&&(t.items=s(t.items)),"jumboable"in o&&o.jumboable&&!n&&(n={type:"heading",level:1,content:[]}),(o.type==="emoji"||o.type==="customEmoji")&&!o.jumboable&&n&&(e.push(n),n=void 0),n?n.content.push(t):e.push(t)}return n&&e.push(n),e}const a=r.patchRows(function(c){for(const e of c)e.type===1&&e.message.content&&(e.message.content=s(e.message.content))});return i.onUnload=a,i})({},types);
