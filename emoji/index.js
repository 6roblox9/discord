(function(c,i){"use strict";function s(r){const t=[];let n;for(const o of r){let e=o;e.type==="emoji"&&(e={type:"text",content:e.surrogate}),"content"in e&&Array.isArray(e.content)&&(e.content=s(e.content)),"items"in e&&Array.isArray(e.items)&&(e.items=s(e.items)),"jumboable"in o&&o.jumboable&&!n&&(n={type:"heading",level:1,content:[]}),(o.type==="emoji"||o.type==="customEmoji")&&!o.jumboable&&n&&(t.push(n),n=void 0),n?n.content.push(e):t.push(e)}return n&&t.push(n),t}let a=null;var m={onLoad(){a=i.patchRows(function(r){for(const t of r)t.type===1&&(t.message?.content&&(t.message.content=s(t.message.content)),t.message?.referenced_message?.content&&(t.message.referenced_message.content=s(t.message.referenced_message.content)))})},onUnload(){a?.()}};return c.default=m,Object.defineProperty(c,"__esModule",{value:!0}),c})({},types);
