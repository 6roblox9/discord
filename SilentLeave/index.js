(function(r,a,i,e,u,d){"use strict";const{ScrollView:f,Text:g,View:m}=a.metro.findByProps("ScrollView","Text","View"),{FormSection:E,FormRow:l}=d.Forms;function y(){return u.useProxy(e.storage),React.createElement(f,{style:{flex:1}},React.createElement(E,{title:"Plugin Logs"},e.storage.logs?.length>0?e.storage.logs.map(function(n,s){return React.createElement(l,{key:s,label:n,labelStyle:{fontSize:10,fontFamily:"monospace"}})}):React.createElement(l,{label:"No activity detected yet"})),React.createElement(m,{style:{padding:20}},React.createElement(g,{style:{color:"#ff4444",textAlign:"center",fontWeight:"bold"},onPress:function(){return e.storage.logs=[]}},"CLEAR LOGS")))}const c=a.metro.findByProps("request","getAPIBaseURL");let o=[];var h={onLoad(){if(e.storage.logs??=[],e.storage.logs.unshift(`[${new Date().toLocaleTimeString()}] Silent Leave Loaded`),!c?.request){e.storage.logs.unshift("[ERROR] API.request not found");return}o.push(i.instead("request",c,function(n,s){const[t]=n;return t?.method==="DELETE"&&typeof t.url=="string"&&t.url.startsWith("/channels/")&&(t.url.includes("silent=true")||(t.url+=t.url.includes("?")?"&silent=true":"?silent=true",e.storage.logs.unshift(`[${new Date().toLocaleTimeString()}] Patched DELETE ${t.url}`))),s(...n)}))},onUnload(){o.forEach(function(n){return n()}),o=[]},settings:y};return r.default=h,Object.defineProperty(r,"__esModule",{value:!0}),r})({},vendetta,vendetta.patcher,vendetta.plugin,vendetta.storage,vendetta.ui.components);
