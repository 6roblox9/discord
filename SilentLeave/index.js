(function(n,d,m,t,g,e,o,p){"use strict";const w=m.findByProps("getChannel"),E=m.findByProps("getToken").getToken;let s=g.storage.get("leaveCommandName")||"leave",a=null;const h=function(){a&&a(),a=d.registerCommand({name:s,description:"Leave the current Group DM silently",options:[],execute:function(i,c){const r=c?.channel?.id,l=w.getChannel(r);if(!l||l.type!==3){t.showToast("This command works only in Group DMs.");return}const C=E();if(!C){t.showToast("Failed to get token.");return}fetch(`https://discord.com/api/v9/channels/${r}?silent=true`,{method:"DELETE",headers:{Authorization:C,"User-Agent":"Discord-Android/305012;RNA","Accept-Encoding":"gzip"}}).then(function(u){u.ok?t.showToast("Left Group DM successfully."):t.showToast(`Failed to leave Group DM: ${u.status}`)}).catch(function(u){return t.showToast(`Error: ${u.message}`)})}})},F=function(){const[i,c]=e.React.useState(s),r=function(){i.trim()&&(s=i.trim(),g.storage.set("leaveCommandName",s),h(),t.showToast("Command updated successfully",p.getAssetIDByName("ic_check")))},l=function(){window.open("https://www.google.com","_blank")};return e.React.createElement(o.Forms.FormSection,{title:"Leave Command Settings"},e.React.createElement(o.Forms.FormText,null,"Customize your leave command:"),e.React.createElement(o.Forms.FormInput,{placeholder:"Enter command name",value:i,onChange:c,onSubmitEditing:r}),e.React.createElement(o.Forms.FormRow,{label:"Save Command Name",onPress:r}),e.React.createElement(o.Forms.FormRow,{label:"Source Code",trailing:e.React.createElement("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",style:{width:20,height:20}}),onPress:l}))},f=function(){return h()},v=function(){a&&a(),d.unregisterAllCommands()};var y={onLoad(){f()},onunload(){v()},settings:F};return n.default=y,n.loadCommands=f,n.unloadCommands=v,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.commands,vendetta.metro,vendetta.ui.toasts,vendetta.plugin,vendetta.metro.common,vendetta.ui.components,vendetta.ui.assets);
