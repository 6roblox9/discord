(function(n,r,t,e){"use strict";const c=t.findByProps("getChannel"),l=t.findByProps("getToken").getToken,h=t.findByProps("version")?.version||"305012",s=function(){r.registerCommand({name:"leave",description:"Leave the current Group DM silently",options:[],execute:function(g,f){const a=f?.channel?.id,d=c.getChannel(a);if(!d||!Array.isArray(d.recipients)){e.showToast("This command works only in Group DMs.");return}const u=l();if(!u){e.showToast("Failed to get token.");return}const p=`Discord-Android/${h};RNA`;fetch(`https://discord.com/api/v9/channels/${a}?silent=true`,{method:"DELETE",headers:{Authorization:u,"User-Agent":p,"Accept-Encoding":"gzip"}}).then(function(o){o.ok?e.showToast("Left Group DM successfully."):e.showToast(`Failed to leave Group DM: ${o.status}`)}).catch(function(o){return e.showToast(`Error: ${o.message}`)})}})},i=function(){return r.unregisterAllCommands()};var m={onLoad(){s()},onunload(){i()}};return n.default=m,n.loadCommands=s,n.unloadCommands=i,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.commands,vendetta.metro,vendetta.ui.toasts);
