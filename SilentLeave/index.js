(function(i,c,d,e,E,h,p){"use strict";const{ScrollView:P,Text:v,View:R}=h.metro.findByProps("ScrollView","Text","View"),{FormSection:S,FormRow:u}=p.Forms;function T(){return E.useProxy(e.storage),React.createElement(P,{style:{flex:1}},React.createElement(S,{title:"Plugin Logs"},e.storage.logs?.length>0?e.storage.logs.map(function(n,l){return React.createElement(u,{key:l,label:n,labelStyle:{fontSize:10,fontFamily:"monospace"}})}):React.createElement(u,{label:"No activity detected yet"})),React.createElement(R,{style:{padding:20}},React.createElement(v,{style:{color:"#ff4444",textAlign:"center",fontWeight:"bold"},onPress:function(){return e.storage.logs=[]}},"CLEAR LOGS")))}const f=c.findByProps("del","put","post"),g=c.findByProps("delete","patch","post"),y=c.findByProps("delete","put");let a=[];var $={onLoad:function(){e.storage.logs??=[];const n=new Date().toLocaleTimeString();e.storage.logs.unshift(`[${n}] Plugin Started - Monitoring...`);const l=function(t,o,w){const s=t[0];let r=typeof s=="string"?s:s?.url;if(typeof r=="string"&&r.includes("/channels/")&&(e.storage.logs.unshift(`[${n}] ${w} DETECTED: ${r}`),e.storage.logs.length>30&&e.storage.logs.pop(),!r.includes("silent=true"))){const b=r.includes("?")?"&":"?",m=`${r}${b}silent=true`;typeof s=="string"?t[0]=m:s?.url&&(s.url=m),e.storage.logs.unshift(`[${n}] MODIFIED: Added silent=true`)}return o(...t)};f?.del&&a.push(d.instead("del",f,function(t,o){return l(t,o,"HTTP")})),g?.delete&&a.push(d.instead("delete",g,function(t,o){return l(t,o,"REST")})),y?.delete&&a.push(d.instead("delete",y,function(t,o){return l(t,o,"Agent")}))},onUnload:function(){a.forEach(function(n){return n()})},settings:T};return i.default=$,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.metro,vendetta.patcher,vendetta.plugin,vendetta.storage,vendetta,vendetta.ui.components);
