(function(o,u,s,r,i,a){"use strict";const{ScrollView:m}=s.findByProps("ScrollView"),{TableRowGroup:l,TableSwitchRow:R,Stack:p}=s.findByProps("TableSwitchRow","TableRowGroup","Stack"),{TextInput:T}=s.findByProps("TextInput"),f=function(t,n=null){return i.storage[t]??n},h=function(t,n){return i.storage[t]=n};function w(){const[,t]=a.React.useReducer(function(e){return~e},0),n=function(){return t()},c=f("defaultHouse","1");return a.React.createElement(m,{style:{flex:1}},a.React.createElement(p,{spacing:10,style:{padding:10}},a.React.createElement(l,{title:"HypeSquad Settings"},a.React.createElement(R,{label:"Auto apply on load",subLabel:"Apply selected house when plugin loads",value:!!f("autoApply"),onValueChange:function(e){h("autoApply",e),n()}})),a.React.createElement(l,{title:"Default HypeSquad House"},a.React.createElement(p,{spacing:4},a.React.createElement(T,{placeholder:"1 / 2 / 3",value:c,onChange:function(e){["1","2","3"].includes(e)&&(h("defaultHouse",Number(e)),n())},isClearable:!0})))))}const v=s.findByProps("getToken").getToken;function y(t,n){const c=v();if(!c){r.showToast("Failed to get token");return}fetch("https://discord.com/api/v9/hypesquad/online",{method:t,headers:{Authorization:c,"Content-Type":"application/json","User-Agent":"Discord-Android/305012;RNA"},body:n?JSON.stringify(n):void 0}).then(function(e){e.ok||r.showToast(`Request failed: ${e.status}`)}).catch(function(e){return r.showToast(`Error: ${e.message}`)})}function d(t){y("POST",{house_id:t}),r.showToast(`HypeSquad set to ${t}`)}function C(){y("DELETE"),r.showToast("HypeSquad removed")}const g=function(){u.registerCommand({name:"hs1",description:"Set HypeSquad 1",options:[],execute:function(){return d(1)}}),u.registerCommand({name:"hs2",description:"Set HypeSquad 2",options:[],execute:function(){return d(2)}}),u.registerCommand({name:"hs3",description:"Set HypeSquad 3",options:[],execute:function(){return d(3)}}),u.registerCommand({name:"hsr",description:"Remove HypeSquad",options:[],execute:C})},S=function(){return u.unregisterAllCommands()};var H={onLoad(){g(),i.storage.autoApply&&[1,2,3].includes(i.storage.defaultHouse)&&d(i.storage.defaultHouse)},onUnload(){S()},settings:w};return o.default=H,o.loadCommands=g,o.unloadCommands=S,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.commands,vendetta.metro,vendetta.ui.toasts,vendetta.plugin,vendetta.metro.common);
