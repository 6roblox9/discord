(function(s,d,u,n,a,i,f){"use strict";const{ScrollView:y}=u.findByProps("ScrollView"),{TableRowGroup:m,Stack:g}=u.findByProps("TableRowGroup","Stack"),{TextInput:T}=u.findByProps("TextInput"),S=u.findByProps("getToken").getToken;function v(e){const o=S();if(!o){n.showToast("Failed to get token");return}if(e===0){fetch("https://discord.com/api/v9/hypesquad/online",{method:"DELETE",headers:{Authorization:o,"User-Agent":"Discord-Android/305012;RNA"}}).then(function(t){return n.showToast(t.ok?"HypeSquad removed":`Failed: ${t.status}`)});return}if(![1,2,3].includes(e)){n.showToast("Only 0, 1, 2 or 3 are allowed");return}fetch("https://discord.com/api/v9/hypesquad/online",{method:"POST",headers:{Authorization:o,"Content-Type":"application/json","User-Agent":"Discord-Android/305012;RNA"},body:JSON.stringify({house_id:e})}).then(function(t){return n.showToast(t.ok?`HypeSquad set to ${e}`:`Failed: ${t.status}`)})}function A(){const[,e]=i.React.useReducer(function(r){return~r},0),o=function(){return e()},t=a.storage.hsValue??"";return i.React.createElement(y,{style:{flex:1}},i.React.createElement(g,{spacing:10,style:{padding:10}},i.React.createElement(m,{title:"HypeSquad"},i.React.createElement(T,{placeholder:"0 = remove, 1-3 = house",value:String(t),onChange:function(r){a.storage.hsValue=r,o()},isClearable:!0})),i.React.createElement(f.Button,{text:"Apply",variant:"primary",size:"md",onPress:function(){return v(Number(a.storage.hsValue))}})))}const w=u.findByProps("getToken").getToken;function l(e,o){const t=w();if(!t){n.showToast("Failed to get token");return}fetch("https://discord.com/api/v9/hypesquad/online",{method:e,headers:{Authorization:t,"Content-Type":"application/json","User-Agent":"Discord-Android/305012;RNA"},body:o?JSON.stringify(o):void 0}).then(function(r){r.ok||n.showToast(`Request failed: ${r.status}`)}).catch(function(r){return n.showToast(`Error: ${r.message}`)})}function c(e){l("POST",{house_id:e}),n.showToast(`HypeSquad set to ${e}`)}function R(){l("DELETE"),n.showToast("HypeSquad removed")}const h=function(){d.registerCommand({name:"hs1",description:"Set HypeSquad 1",options:[],execute:function(){return c(1)}}),d.registerCommand({name:"hs2",description:"Set HypeSquad 2",options:[],execute:function(){return c(2)}}),d.registerCommand({name:"hs3",description:"Set HypeSquad 3",options:[],execute:function(){return c(3)}}),d.registerCommand({name:"hsr",description:"Remove HypeSquad",options:[],execute:R})},p=function(){return d.unregisterAllCommands()};var q={onLoad(){h(),a.storage.autoApply&&[1,2,3].includes(a.storage.defaultHouse)&&c(a.storage.defaultHouse)},onUnload(){p()},settings:A};return s.default=q,s.loadCommands=h,s.unloadCommands=p,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.commands,vendetta.metro,vendetta.ui.toasts,vendetta.plugin,vendetta.metro.common,redesign);
