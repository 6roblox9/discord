(function(s,u,d,o,i,e){"use strict";const{ScrollView:T}=d.findByProps("ScrollView"),{TableRowGroup:l,Stack:p}=d.findByProps("TableRowGroup","Stack"),{TextInput:h}=d.findByProps("TextInput"),m=d.findByProps("getToken").getToken;function S(t){const a=m();if(!a){o.showToast("Failed to get token");return}if(t===0){fetch("https://discord.com/api/v9/hypesquad/online",{method:"DELETE",headers:{Authorization:a,"User-Agent":"Discord-Android/305012;RNA"}}).then(function(n){return o.showToast(n.ok?"HypeSquad removed":`Failed: ${n.status}`)});return}if(![1,2,3].includes(t)){o.showToast("Only 0, 1, 2 or 3 are allowed");return}fetch("https://discord.com/api/v9/hypesquad/online",{method:"POST",headers:{Authorization:a,"Content-Type":"application/json","User-Agent":"Discord-Android/305012;RNA"},body:JSON.stringify({house_id:t})}).then(function(n){return o.showToast(n.ok?`HypeSquad set to ${t}`:`Failed: ${n.status}`)})}function R(){const[,t]=e.React.useReducer(function(r){return~r},0),a=function(){return t()},n=i.storage.hsValue??"";return e.React.createElement(T,{style:{flex:1}},e.React.createElement(p,{spacing:10,style:{padding:10}},e.React.createElement(l,{title:"HypeSquad"},e.React.createElement(h,{placeholder:"0 = remove, 1-3 = house",value:String(n),onChange:function(r){i.storage.hsValue=r,a()},isClearable:!0})),e.React.createElement(l,{title:""},e.React.createElement(p,null,e.React.createElement(h,{editable:!1,value:"Press Apply to execute"}))),e.React.createElement(l,{title:""},e.React.createElement(p,null,e.React.createElement(FormButton,{text:"Apply",onPress:function(){return S(Number(i.storage.hsValue))}})))))}const v=d.findByProps("getToken").getToken;function f(t,a){const n=v();if(!n){o.showToast("Failed to get token");return}fetch("https://discord.com/api/v9/hypesquad/online",{method:t,headers:{Authorization:n,"Content-Type":"application/json","User-Agent":"Discord-Android/305012;RNA"},body:a?JSON.stringify(a):void 0}).then(function(r){r.ok||o.showToast(`Request failed: ${r.status}`)}).catch(function(r){return o.showToast(`Error: ${r.message}`)})}function c(t){f("POST",{house_id:t}),o.showToast(`HypeSquad set to ${t}`)}function E(){f("DELETE"),o.showToast("HypeSquad removed")}const y=function(){u.registerCommand({name:"hs1",description:"Set HypeSquad 1",options:[],execute:function(){return c(1)}}),u.registerCommand({name:"hs2",description:"Set HypeSquad 2",options:[],execute:function(){return c(2)}}),u.registerCommand({name:"hs3",description:"Set HypeSquad 3",options:[],execute:function(){return c(3)}}),u.registerCommand({name:"hsr",description:"Remove HypeSquad",options:[],execute:E})},g=function(){return u.unregisterAllCommands()};var A={onLoad(){y(),i.storage.autoApply&&[1,2,3].includes(i.storage.defaultHouse)&&c(i.storage.defaultHouse)},onUnload(){g()},settings:R};return s.default=A,s.loadCommands=y,s.unloadCommands=g,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.commands,vendetta.metro,vendetta.ui.toasts,vendetta.plugin,vendetta.metro.common);
